<!-- Récupérer et afficher le rôle de l'utilisateur connecté -->
<div id="userRoleToDispaly" style="font-size: 12px;"></div>

<script>
    // Récupérer le rôle de l'utilisateur connecté au chargement de la page
    document.addEventListener('DOMContentLoaded', function () {

        // Récupérer les données de l'utilisateur connecté
        var userEmail = current_user_data.email;
        var userRole = current_user_data.roles;
        var userId = current_user_data.ID;

        localStorage.setItem('userEmail', userEmail);
        localStorage.setItem('userRole', userRole);
        localStorage.setItem('userId', userId);
        
        bacground_colors = {
            'Administrateur': '#FF0000',
            'Coordinateur': '#FFA500',
            'chef-de-projet': '#FFA500',
            'partenaire': '#008000',
            'comptable': '#0000FF',
            'consultant': '#800080',
            'subscriber': '#808080'
        };
        // Vérifier si l'utilisateur connecté est un administrateur, un coordinateur, un chef de projet, un partenaire, un comptable, un consultant ou un bailleur
        if (userRole.includes('administrator')) {
            document.getElementById('userRoleToDispaly').innerText = 'Administrateur';
            document.getElementById('userRoleToDispaly').style.backgroundColor = bacground_colors.Administrateur;
        }
        else if (userRole.includes('um_coordinateur')) {
            document.getElementById('userRoleToDispaly').innerText = 'Coordinateur';
            document.getElementById('userRoleToDispaly').style.backgroundColor = bacground_colors.Coordinateur;
        }
        else if (userRole.includes('chef-de-projet')) {
            document.getElementById('userRoleToDispaly').innerText = 'Chef de projet';
            document.getElementById('userRoleToDispaly').style.backgroundColor = bacground_colors['chef-de-projet'];
        }
        else if (userRole.includes('partenaire')) {
            document.getElementById('userRoleToDispaly').innerText = 'Partenaire';
            document.getElementById('userRoleToDispaly').style.backgroundColor = bacground_colors.partenaire;
        }
        else if (userRole.includes('comptable')) {
            document.getElementById('userRoleToDispaly').innerText = 'Comptable';
            document.getElementById('userRoleToDispaly').style.backgroundColor = bacground_colors.comptable;
        }
        else if (userRole.includes('consultant')) {
            document.getElementById('userRoleToDispaly').innerText = 'Consultant';
            document.getElementById('userRoleToDispaly').style.backgroundColor = bacground_colors.consultant;
        }
        else {
            document.getElementById('userRoleToDispaly').innerText = 'Abonné';
            document.getElementById('userRoleToDispaly').style.backgroundColor = bacground_colors.subscriber;
        }
        document.getElementById('userRoleToDispaly').style.color = 'white';
        document.getElementById('userRoleToDispaly').style.fontWeight = 'normal';
        document.getElementById('userRoleToDispaly').style.fontSize = '12px';
        document.getElementById('userRoleToDispaly').style.padding = '5px';
        document.getElementById('userRoleToDispaly').style.borderRadius = '10px';
        document.getElementById('userRoleToDispaly').style.margin = '5px';
        document.getElementById('userRoleToDispaly').style.textAlign = 'center';
    });
</script>